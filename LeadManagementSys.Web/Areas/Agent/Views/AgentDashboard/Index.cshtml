@model LeadManagementSys.Models.DTOs.AgentDashboardDto
@{
    ViewData["Title"] = "Dashboard";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Welcome to Agent Dashboard</h2>

<div class="row align-items-center mb-3">
    <div class="col-md-8">
        <div class="card shadow-sm text-black mb-0 p-3 cardColor1">
            <div class="card-body text-center">
                <h5 class="card-title">Total Leads</h5>
                <p class="display-4 font-weight-bold">@Model.TotalLeads</p>
            </div>
        </div>
    </div>
    <div class="col-md-4 d-flex justify-content-end align-self-start">
        <a href="/Lead/Create" class="btn custom-button" style="white-space: nowrap;">Create Lead</a>
    </div>
</div>

<div class="card shadow-lg p-3" style="border-radius: 10px;">
    <div class="card-header bg-light text-dark">
        <h5 class="mb-0">Leads Overview</h5>
    </div>
    <div class="card-body">
        <table class="table table-striped table-hover">
            <thead class="thead-dark" style="color: #021d3d;">
                <tr>
                    <th>Lead Name</th>
                    <th>Assigned To</th>
                    <th>Status</th>
                    <th>Remarks</th>
                    <th>Created At</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var lead in Model.Leads)
                {
                    <tr>
                        <td>@lead.LeadName</td>
                        <td>@lead.AssignedToName</td>
                        <td>@lead.Status</td>
                        <td>
                            @if (lead.Remarks != null && lead.Remarks.Any())
                            {
                                @string.Join(", ", lead.Remarks)
                            }
                            else
                            {
                                <span>No Remarks</span>
                            }
                        </td>
                        <td>@lead.CreatedAt.ToShortDateString()</td>
                        <td>
                            <a href="/Lead/Edit/@lead.Id" class="btn custom-button btn-sm">Edit</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>


